@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "LineFastLogin";
}
@model Nsl_Core.Models.ViewModels.LineFastLoginVM
<section>
    <div class="img-fluid banner-box">
        <img src="~/image/banner-5.jpg" alt="image description" class="img-fluid banner-height">
    </div>
</section>
<!-- Teachers list -->
<section class="block-padding">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-12 col-lg-12 mb-30 wow fadeInUp" data-wow-duration="600ms">
                <div class="about-block active">
                    <div class="container text-center">
                        <h3 class="mb-4" id="demoRRR">Line註冊快速登入</h3>
                        <form class="login-form mx-auto" method="POST">
                            <strong>
                                請輸入帳號(您的Email)以完成綁定NSL會員
                            </strong>
                            <div class="mt-3 row">
                                <div class="col-3 px-0"></div>
                                <div class="col-1 float-right px-0 text-right mt-1">
                                    <span style="color:red">*</span><label class="me-2">帳號:</label>
                                </div>
                                <div class="col-4 float-left px-0" style="display: inline-block;">
                                    <input type="text" class="form-control" id="accountLine" placeholder="請輸入電子郵件" name="Email" />
                                    <input type="submit" class="btn-backedit2" id="sendLine" style="display: inline-block;" value="送出">
                                </div>
                                <div class="col-4 text-start mt-1" style="display: inline-block;">
                                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" ,@id="accErr"})
                                </div>
                            </div>
                            <a href="~/NSL/Login" class="btn-backedit2 mt-4" style="margin-bottom: -2px;color:white;display: inline-block;" id="login">回登入頁面</a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts{
    <script>

        let regex = /^\w+((-\w+)|(\.\w+))*\@@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;
        $("#accountLine").blur(() => {
            if (!regex.test($("#accountLine").val())) {
                $("#accErr").text("格式錯誤")
                $("#sendLine").attr("disabled", true)
            }
            else {
                $("#accErr").text("")
                $("#sendLine").attr("disabled", false)
            }
        })

        $("#demoRRR").on("click", function () {
            $("#accountLine").val("05p268955@gmail.com")
            $("#accErr").text("")
            $("#sendLine").attr("disabled", false)
        })

    </script>
}

